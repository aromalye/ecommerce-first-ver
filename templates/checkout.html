{% extends 'base.html' %}
{% block content %}
<section id="cart" class="section-p1">
    <table style="width: 50%;">
        <thead>
            <tr>
                <td style="width: 20px;">Image</td>
                <td style="width: 50px;">Product</td>
                <td style="width: 20px;">Price</td>
                <td style="width: 20px;">Quantity</td>
            </tr>
        </thead>
        <tbody>
        {% for x in cart_item %}
            <tr>
                <td><img src="{{ x.product.images.url }}" ></td>
                <td>{{x.product}}</td>
                <td>$ {{x.product.price}}</td>
                <td>{{x.quantity}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div id="bill_address">
      <h4 class="mb-3">Billing address</h4>
      <form action="{% url 'place_order' %}" method="POST" class="needs-validation" novalidate>
        {% csrf_token %}
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label">First name</label>
            <input type="text" name="firstname" class="form-control" id="firstName" placeholder="" value="" required>
            <div class="invalid-feedback">
              Valid first name is required.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Last name</label>
            <input type="text" name="lastname" class="form-control" id="lastName" placeholder="" value="" required>
            <div class="invalid-feedback">
              Valid last name is required.
            </div>
          </div>

          <div class="col-12">
            <label for="username" class="form-label">Phone number</label>
            <div class="input-group has-validation">
              <input type="number" name="phone" class="form-control" id="phonenumber" placeholder="phone number" required>
            <div class="invalid-feedback">
                Your phone number is required.
              </div>
            </div>
          </div>

          <div class="col-12">
            <label for="email" class="form-label">Email</label>
            <input type="email" name="email" class="form-control" id="email" placeholder="you@example.com">
            <div class="invalid-feedback">
              Please enter a valid email address for shipping updates.
            </div>
          </div>

          <div class="col-12">
            <label for="address" class="form-label">Address</label>
            <input type="text" name="address1" class="form-control" id="address" placeholder="1234 Main St" required>
            <div class="invalid-feedback">
              Please enter your shipping address.
            </div>
          </div>

          <div class="col-12">
            <label for="address2" class="form-label">Address 2 <span class="text-muted">(Optional)</span></label>
            <input type="text" name="address2" class="form-control" id="address2" placeholder="Apartment or suite">
          </div>

          <div class="col-md-5">
            <label for="country" class="form-label">Country</label>
            <input type="text" name="country" class="form-control" id="country" placeholder="" required>
            <div class="invalid-feedback">
              Country required.
            </div>
          </div>

          <div class="col-md-3">
            <label for="state" class="form-label">State</label>
            <input type="text" name="state" class="form-control" id="state" placeholder="" required>
            <div class="invalid-feedback">
              State required.
            </div>
          </div>

         
          <div class="col-md-3">
            <label for="zip" class="form-label">City</label>
            <input type="text" name="city" class="form-control" id="zip" placeholder="" required>
            <div class="invalid-feedback">
              City required.
            </div>
          </div>
        </div>
        <hr class="my-4">
        <h4 class="mb-3">Payment</h4>
        <hr class="my-4">
        <button class="w-100 btn btn-primary btn-lg" type="submit">Place Order</button>
      </form>
    </div>
</section>

<section id="cart-add" class="section-p1">
    <div id="subtotal">
        <h3>Cart Totals</h3>
        <table>
            <tr>
                <td>Cart Subtotal</td>
                <td>$ {{ total }}</td>
            </tr>
            <tr>
                <td>Tax</td>
                <td>$ {{ tax }}</td>
            </tr>
            <!-- <tr>
              <td>Discount</td>
              <td>$ {{ discount }}</td>
          </tr> -->
            <tr>
                <td><strong>Total</strong></td>
                <td><strong>$ {{ grand_total }}</strong></td>
            </tr>
        </table>
    </div>

    
    
</section>

        
  
  

{% endblock %}